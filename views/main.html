<div class="navbar navbar-fixed-top">
    <div ng-include="'views/shared/header.html'" class="navbar-blue navbar-inner"></div>
</div>

<div ng-show="loading" class="dim"><div class="centered"><span class="loader"></span></div></div>

<div id="main" ng-switch="activeTab" ng-animate="'fade'">

    <div id="nearby" ng-switch-when="nearby" >

        <ul class="nearby">

          <li class="box" ng-repeat="spot in spots" >
            
            <img ng-src="images/flags/{{spot.color}}_80.png" class="flag" />
            <small class="muted distance">{{spot.distance}}km</small>
            <h4 class="name">{{spot.name}}</h4>
            <p class="details">{{spot.checkins}} checkins</p>
            
          </li>
        </ul>

    </div>

    <div id="map_canvas" ng-switch-when="map" >
      <google-map center="center" draggable="true" dragging="dragging" zoom="zoom" markers="markers" bounds="bounds"></google-map>
    </div>

    <div id="sessions" ng-switch-when="sessions"  >

      <ul class="sessions">

        <li class="box clearfix" ng-repeat="session in sessions">

          <small class="distance muted">{{session.created_at | date:'MMM d h:mma'}}</small>

          <img ng-touch="navigate.go('/riders/'+session.author.id)" ng-src="{{session.author.picture}}" class="rider-small pull-left" />
          <h4 ng-touch="navigate.go('/riders/'+session.author.id)" class="name">{{session.author.name}}</h4>
          {{session.action}} at {{session.spot}}
          <span ng-show="session.others">with {{session.others.length}} others</span>
          
          <img ng-src="{{session.photo}}" class="session-photo" />

          <p class="details">
            <img ng-src="images/flags/{{session.color}}_80.png" class="flag" />
            <i>&ldquo;{{session.comment}}&rdquo;</i>
          </p>

        </li>

      </ul>

    </div>

</div>

<div class="navbar navbar-fixed-bottom"> 
    <div ng-include="'views/shared/nav.html'" class="navbar-inner"></div>
</div>