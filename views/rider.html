<div class="navbar navbar-fixed-top" >
  <div class="navbar-inner blue">
    <a class="navbar-button pull-left" ng-touch="navigate.back()"><i class="icon-chevron-left "></i></a>
    <span ng-hide="rider.id == user.id">
        <a class="navbar-button pull-right" ng-show="!rider.following" ng-touch="follow()"><i class="icon-check-empty "></i></a>
        <a class="navbar-button pull-right" ng-show="rider.following" ng-touch="unfollow()"><i class="icon-check"></i></a>
    </span>
    <h4>{{rider.name}}</h4>

  </div>
</div>

<div ng-show="loading" class="dim"><div class="centered"><span class="loader"></span></div></div>

<div id="rider" class="box clearfix" ng-show="rider">

    <p class="profile">
        <img ng-src="{{rider.picture}}" class="profile" />
        <br/>
        <span class="label blue"><img src="images/shaka.png" width="20" height="20"></span> {{rider.score}} shakas 
        <i class="icon icon-user"></i> {{rider.nb_followers}} followers 
        <i class="icon icon-flag-checkered"></i> {{rider.nb_sessions}} sessions 
    </p>

    <div id="rider-tabs" ng-switch="tab" ng-animate="'fade'">

        <div class="btn-group">
            <button type="button" class="btn btn-large fifty" ng-model="tab" btn-radio="'sessions'"><i class="icon-flag-checkered"></i> Sessions</button> <button type="button" class="btn btn-large fifty" ng-model="tab" btn-radio="'gear'"><i class="icon-wrench"></i> Gear</button>
        </div>


        <ul id="items" ng-switch-when="gear" class="clearfix">

            <li class="item" ng-repeat="item in rider.items">
                <img ng-src="{{item.picture}}" class="item-small pull-left">
                {{item.name}}
            </li>
            
        </ul>

        <ul id="sessions" ng-switch-when="sessions">

            <li class="item" ng-repeat="session in sessions">
                <div class="pull-left">
                    <img ng-src="images/flags/{{session.color}}_80.png" class="flag" />
                   
                </div>
                {{session.action}} at <a ng-touch="navigate.go('/spots/'+session.spot.id)">{{session.spot.name}}</a>
               <span ng-show="session.others">with </span>
              <span ng-show="session.others.length == 1"><a ng-touch="navigate.go('/riders/'+session.others.first.id)">{{session.others.first.name}}</a>
              </span>
              <span ng-show="session.others.length > 1" ng-repeat="rider in session.others">
                  {{{true: '', false: 'and '}[$first]}}<a ng-touch="navigate.go('/riders/'+rider.id)">{{rider.name}}</a></span>.
              </span>
                <img ng-src="{{session.photo}}" class="session-photo" />
                <i>&ldquo;{{session.comment}}&rdquo;</i>
                 <br/>
                <small class="distance muted">{{session.created_at | date:'MMM d h:mma'}}</small>
                
            </li>
            
        </ul>

    </div>

</div>





  
