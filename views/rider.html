<div class="navbar navbar-fixed-top" >
  <div class="navbar-inner blue">
    <a class="navbar-button pull-left" ng-touch="navigate.back()"><i class="icon-chevron-left "></i></a>
    <span ng-hide="rider.id == user.id">
        <a class="navbar-button pull-right" ng-show="!rider.following" ng-touch="follow()"><i class="icon-check-empty "></i></a>
        <a class="navbar-button pull-right" ng-show="rider.following" ng-touch="unfollow()"><i class="icon-check"></i></a>
    </span>
    <h4>{{rider.name}}</h4>

  </div>
</div>

<div ng-show="loading" class="dim"><div class="centered"><span class="loader"></span></div></div>

<div id="profile" class="box clearfix" ng-show="rider">

  <img ng-src="{{rider.picture}}" class="profile pull-left" />

  <p><button class="btn btn-primary"><img class="score" src="images/shaka.png"> <span class="big-number">{{rider.score}}</span></button></p>
  <p>Riding with<br>
  <span ng-repeat="item in rider.items">
          <img ng-src="{{item.picture}}" class="item-small pull-left">
  </span>

  <div id="rider-tabs" ng-switch="tab" ng-animate="'fade'">

      <div class="btn-group">
          <button class="btn btn-large half" ng-model="tab" btn-radio="'sessions'"><span class="big-number">{{rider.nb_sessions}}</span><br><i class="icon-flag-checkered"></i> Sessions</button>
          <button class="btn btn-large half" ng-model="tab" btn-radio="'followers'"><span class="big-number">{{rider.nb_followers}}</span><br><i class="icon-user"></i> Followers</button>
      </div>

      <ul id="followers" ng-switch-when="followers">
        <li class="item" ng-repeat="follower in followers">
          <img ng-touch="navigate.go('/riders/'+follower.id)" ng-src="{{follower.picture}}" class="item-small pull-left"><a ng-touch="navigate.go('/riders/'+follower.id)">{{follower.name}}</a>
        </li>
      </ul>

      <ul id="sessions" ng-switch-when="sessions">

          <li class="item" ng-repeat="session in sessions">
              <div class="pull-left">
                  <img ng-src="images/flags/{{session.color}}_80.png" class="flag" />
                 
              </div>
              {{session.action}} at <a ng-touch="navigate.go('/spots/'+session.spot.id)">{{session.spot.name}}</a>
             <span ng-show="session.others">with </span>
            <span ng-show="session.others.length == 1"><a ng-touch="navigate.go('/riders/'+session.others.first.id)">{{session.others.first.name}}</a>
            </span>
            <span ng-show="session.others.length > 1" ng-repeat="rider in session.others">
                {{{true: '', false: 'and '}[$first]}}<a ng-touch="navigate.go('/riders/'+rider.id)">{{rider.name}}</a></span>.
            </span>
              <img ng-show="session.photo" ng-src="{{session.photo}}" class="session-photo" />
              <i>&ldquo;{{session.comment}}&rdquo;</i>
               <br/>
              <small class="muted"><i class="icon-time"></i> {{session.created_at | date:'MMM d h:mma'}}</small>
              
          </li>
          
      </ul>

    </div>

</div>





  
